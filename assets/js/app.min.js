const log=e=>console.log(e),delay=(e,t)=>setTimeout(t,e),sendEvent=(e,t,i="",n)=>ga("send","event",e,t,i,n),setCurrentSlide=(e,t)=>{const i=$(e).find(".images"),n=t*parseInt($(e).data("slide-width"));i.css("left",-n+"px"),$(e).data("current-slide",t);const o=$(e).find(".indicator .bubble");o[t];o.removeClass("active"),$(o[t]).addClass("active")},nextSlide=()=>{$(".slider").each(function(){const e=$(this).find(".images"),t=e.children().length,i=$(this).data("slide-width"),n=parseInt(e.css("left").replace(/[^-\d\.]/g,"")),o=$(this).data("current-slide"),s=(t-1)*i;let a=0;Math.abs(n)<s&&(a=o+1),setCurrentSlide($(this),a)})},updateSlider=()=>{$(".slider").each(function(){const e=parseInt($(this).css("width").replace(/[^-\d\.]/g,"")),t=parseInt($(this).css("height").replace(/[^-\d\.]/g,""));$(this).data("slide-width",e),$(this).data("slide-height",t),setCurrentSlide(this,$(this).data("current-slide"))})};let slideTimer=null,runThis=nextSlide;const scheduleSlideChange=()=>{clearInterval(slideTimer),slideTimer=setInterval(runThis,5e3)},initSlider=()=>{updateSlider(),scheduleSlideChange(),$(window).bind("resize",()=>updateSlider()),$(".slider .indicator .bubble").click(e=>{e.preventDefault(),scheduleSlideChange(),setCurrentSlide($(this).closest(".slider"),$(this).index())})},iframe=$("#spilhuset")[0],player=$(iframe),showVideo=()=>{$(".header-container .header").fadeOut(),$(".header-container .video-overlay").fadeOut(),$(".header-container .navigation").fadeOut(),$("#spilhuset").fadeIn(),player.api("play")},hideVideo=e=>{$(".header-container .header").fadeIn(),$(".header-container .video-overlay").fadeIn(),$(".header-container .navigation").fadeIn(),$("#spilhuset").fadeOut(),player.element.src=player.element.src},toggleDescription=e=>{const t=$(window).width();let i=$(".descriptions .model."+e);t<1e3&&(i=$(".pricing .model."+e+" .details"));const n=$(".pricing .model."+e+" .learn-more");i.hasClass("open")?(i.removeClass("open"),delay(200,()=>n.html("Learn more"))):(i.addClass("open"),delay(200,()=>n.html("Close")))},stickyMenu=()=>{const e=$(".navigation");let t=0;e.hasClass("topstick")&&(t=0),$(window).scrollTop()>t?e.addClass("sticky"):e.removeClass("sticky")};Modernizr.addTest("firefox",()=>!!navigator.userAgent.match(/firefox/i));const menuItems=$(".navigation a.scrollbased"),scrollItems=menuItems.map(function(e,t){const i=$(t).attr("href");return i.length?i:null});$(menuItems).on("click",function(e){e.preventDefault();const t=$(this).attr("href");let i=0;"#"!==t&&(i=$(t).offset().top),scrollTo(i)});const scrollTo=(e,t=null)=>{let i="html, body";Modernizr.firefox&&(i="html"),$(i).stop().animate({scrollTop:e},"slow","swing",t)},navigateToExternal=e=>{window.open(e)},videoLink="http://vimeo.com/131718559";$(window).on("scroll",()=>stickyMenu()),$(function(){if(stickyMenu(),initSlider(),!Modernizr.touch){const e=$(".header-container .video-overlay"),t=new $.BigVideo({container:e,controls:!1,forceAutoplay:!1,doLoop:!0});t.init(),t.show([{type:"video/mp4",src:"/header_movie.m4v",ambient:!0,doLoop:!0},{type:"video/webm",src:"/header_movie.webm",ambient:!0,doLoop:!0}]),t.getPlayer().on("loadedmetada",()=>e.css("opacity",1))}$(".play").on("click",function(e){e.preventDefault(),Modernizr.touch?navigateToExternal(videoLink):showVideo()}),$(".scrollandplay").on("click",function(e){e.preventDefault(),Modernizr.touch?navigateToExternal(videoLink):this.scrollTo(0,()=>{showVideo()})}),$(".pricing .model .learn-more").on("click",function(e){e.preventDefault();const t=$(this).parent(".model");t.hasClass("flexible")?toggleDescription("flexible"):t.hasClass("fulltime")?toggleDescription("fulltime"):t.hasClass("office")&&toggleDescription("office")});const e=function(i){const n=$(this);n.on("click",t),n.off("mouseleave",e),n.find("iframe").css("pointer-events","none")},t=function(i){const n=$(this);n.off("click",t),n.find("iframe").css("pointer-events","auto"),n.on("mouseleave",e)};$(".map-container").on("click",t)});